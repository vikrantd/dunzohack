webpackJsonp([1],{"+apc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n("Gvdl");n("qYgd"),n("7zJD"),n("76uQ"),t.AnalyseListComponent=function(){function e(e,t){this._analyseSvc=e,this._appStoreSvc=t,this.ngUnsubscriber=new l.Subject,this.addCategoryFlag=!1,this.editCategoryFlag=!1,this.addSubCategoryFlag=!1,this.loading=!1,this._analyseSvc.dFetchImageList()}return e.prototype.ngOnInit=function(){this.subscriptions()},e.prototype.selectImage=function(e){this.selectedImage=e},e.prototype.subscriptions=function(){var e=this;this._analyseSvc.sGetImageList().takeUntil(this.ngUnsubscriber).subscribe(function(t){return e.imageList=t})},e.prototype.analyseImage=function(e){this._analyseSvc.dAnalyzeImage(e)},e.prototype.ngOnDestroy=function(){this.ngUnsubscriber.next(),this.ngUnsubscriber.complete()},e}()},"2GgJ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("+apc"),t.AnalyseRoutingModule=function(){}},"6/fR":function(e,t,n){"use strict";var l=n("yUv3"),o=n("WT6e"),i=n("Xjw4"),s=n("bfOx"),c=n("+apc"),r=n("76uQ"),a=n("7zJD"),u=o.\u0275crt({encapsulation:0,styles:[l.styles],data:{}});function g(e){return o.\u0275vid(0,[(e()(),o.\u0275eld(0,0,null,null,9,"li",[],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.selectImage(e.context.$implicit)&&l),l},null,null)),o.\u0275did(1,278528,null,0,i.NgClass,[o.IterableDiffers,o.KeyValueDiffers,o.ElementRef,o.Renderer2],{ngClass:[0,"ngClass"]},null),o.\u0275pod(2,{active:0}),(e()(),o.\u0275ted(-1,null,["\n                "])),(e()(),o.\u0275eld(4,0,null,null,2,"span",[["class","category-name"]],null,null,null,null,null)),(e()(),o.\u0275eld(5,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(e()(),o.\u0275ted(6,null,["",""])),(e()(),o.\u0275eld(7,0,null,null,1,"button",[],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.analyseImage(e.context.$implicit.recieptImage)&&l),l},null,null)),(e()(),o.\u0275ted(-1,null,["Analyse"])),(e()(),o.\u0275ted(-1,null,["\n            "]))],function(e,t){var n=t.component;e(t,1,0,e(t,2,0,t.context.$implicit.storeRecieptId==(null==n.selectedImage?null:n.selectedImage.storeRecieptId)))},function(e,t){e(t,5,0,o.\u0275inlineInterpolate(1,"",t.context.$implicit.recieptImage,"")),e(t,6,0,t.context.$implicit.recieptImage)})}function d(e){return o.\u0275vid(0,[(e()(),o.\u0275eld(0,0,null,null,4,"div",[["class","categories-list"]],null,null,null,null,null)),(e()(),o.\u0275ted(-1,null,["\n            "])),(e()(),o.\u0275and(16777216,null,null,1,null,g)),o.\u0275did(3,802816,null,0,i.NgForOf,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),o.\u0275ted(-1,null,["\n        "]))],function(e,t){e(t,3,0,t.component.imageList)},null)}function p(e){return o.\u0275vid(0,[(e()(),o.\u0275eld(0,0,null,null,9,"div",[["class","categories-list-view"]],null,null,null,null,null)),(e()(),o.\u0275ted(-1,null,["\n        "])),(e()(),o.\u0275eld(2,0,null,null,2,"div",[["class","categories-header"]],null,null,null,null,null)),(e()(),o.\u0275eld(3,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),o.\u0275ted(-1,null,["Receipts"])),(e()(),o.\u0275ted(-1,null,["\n        "])),(e()(),o.\u0275and(16777216,null,null,1,null,d)),o.\u0275did(7,16384,null,0,i.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),o.\u0275ted(-1,null,["\n        "])),(e()(),o.\u0275ted(-1,null,["\n    "])),(e()(),o.\u0275ted(-1,null,["\n    \n    "])),(e()(),o.\u0275eld(11,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),o.\u0275did(12,212992,null,0,s.RouterOutlet,[s.ChildrenOutletContexts,o.ViewContainerRef,o.ComponentFactoryResolver,[8,null],o.ChangeDetectorRef],null,null)],function(e,t){e(t,7,0,!t.component.loading),e(t,12,0)},null)}function f(e){return o.\u0275vid(0,[(e()(),o.\u0275eld(0,0,null,null,1,"analyse-list",[],null,null,null,p,u)),o.\u0275did(1,245760,null,0,c.AnalyseListComponent,[r.AnalyseViewService,a.AppStoreService],null,null)],function(e,t){e(t,1,0)},null)}t.RenderType_AnalyseListComponent=u,t.View_AnalyseListComponent_0=p,t.View_AnalyseListComponent_Host_0=f,t.AnalyseListComponentNgFactory=o.\u0275ccf("analyse-list",c.AnalyseListComponent,f,{},{},[])},"76uQ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("dyjq");var l=n("mjl/");n("8tUe"),n("7zJD"),t.AnalyseViewService=function(){function e(e,t,n){this.store=e,this.actions=t,this.appStoreSvc=n,this.appStoreSvc.registerActionClass(t),this.appStoreSvc.registerSelectors("AnalyseViewtSelectors",l)}return e.prototype.sGetImageList=function(){return this.store.select(l.getImagelist)},e.prototype.dFetchImageList=function(){this.store.dispatch(this.actions.fetchImageList())},e.prototype.dAnalyzeImage=function(e){this.store.dispatch(this.actions.analyseImage(e))},e}()},"9uKG":function(e,t,n){"use strict";var l=n("WT6e"),o=n("i0xk"),i=n("6/fR"),s=n("Xjw4"),c=n("7DMc"),r=n("8tUe"),a=n("76uQ"),u=n("dyjq"),g=n("7zJD"),d=n("9/CR"),p=n("lEN9"),f=n("8AXl"),m=n("qYm3"),y=n("lmpi"),_=n("bfOx"),v=n("2GgJ"),C=n("+apc");t.AnalyseViewModuleNgFactory=l.\u0275cmf(o.AnalyseViewModule,[],function(e){return l.\u0275mod([l.\u0275mpd(512,l.ComponentFactoryResolver,l.\u0275CodegenComponentFactoryResolver,[[8,[i.AnalyseListComponentNgFactory]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l.\u0275mpd(4608,s.NgLocalization,s.NgLocaleLocalization,[l.LOCALE_ID,[2,s.\u0275a]]),l.\u0275mpd(4608,c.\u0275i,c.\u0275i,[]),l.\u0275mpd(4608,c.FormBuilder,c.FormBuilder,[]),l.\u0275mpd(4608,r.AnalyseViewActions,r.AnalyseViewActions,[]),l.\u0275mpd(4608,a.AnalyseViewService,a.AnalyseViewService,[u.Store,r.AnalyseViewActions,g.AppStoreService]),l.\u0275mpd(512,s.CommonModule,s.CommonModule,[]),l.\u0275mpd(512,c.\u0275ba,c.\u0275ba,[]),l.\u0275mpd(512,c.FormsModule,c.FormsModule,[]),l.\u0275mpd(512,c.ReactiveFormsModule,c.ReactiveFormsModule,[]),l.\u0275mpd(1024,u.STORE_FEATURES,function(){return[{key:"analyseView",reducerFactory:u.combineReducers,metaReducers:[],initialState:void 0}]},[]),l.\u0275mpd(1024,u._FEATURE_REDUCERS,function(){return[d.analyseView]},[]),l.\u0275mpd(1024,u._FEATURE_REDUCERS_TOKEN,function(e){return[e]},[u._FEATURE_REDUCERS]),l.\u0275mpd(1024,u.FEATURE_REDUCERS,function(e,t,n){return[u._createFeatureReducers(e,t,n)]},[l.Injector,u._FEATURE_REDUCERS,u._FEATURE_REDUCERS_TOKEN]),l.\u0275mpd(131584,u.StoreFeatureModule,u.StoreFeatureModule,[u.STORE_FEATURES,u.FEATURE_REDUCERS,u.ReducerManager]),l.\u0275mpd(512,p.AnalyseViewEffects,p.AnalyseViewEffects,[f.Actions,m.ApiService,y.AlertService,u.Store]),l.\u0275mpd(1024,f.\u0275f,function(e){return[f.\u0275a(e)]},[p.AnalyseViewEffects]),l.\u0275mpd(512,f.\u0275d,f.\u0275d,[f.\u0275c,f.\u0275f,[2,u.StoreModule]]),l.\u0275mpd(512,_.RouterModule,_.RouterModule,[[2,_.\u0275a],[2,_.Router]]),l.\u0275mpd(512,v.AnalyseRoutingModule,v.AnalyseRoutingModule,[]),l.\u0275mpd(512,o.AnalyseViewModule,o.AnalyseViewModule,[]),l.\u0275mpd(1024,_.ROUTES,function(){return[[{path:"",component:C.AnalyseListComponent,children:[]}]]},[])])})},i0xk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("Gvdl"),t.AnalyseViewModule=function(){}},lEN9:function(e,t,n){"use strict";var l=n("TToO").__decorate,o=n("TToO").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var i=n("8AXl");n("Gvdl");var s=n("Gvdl");n("TDKa"),n("lMWm"),n("dRKc"),n("xgm2"),n("VwFy"),n("kWGS"),n("F3G9"),n("dyjq");var c=n("8tUe"),r=n("srbC"),a=n("doYB"),u=(n("fwo/"),function(){function e(e,t,n,l){var o=this;this.action$=e,this._apiSvc=t,this._alertService=n,this.store=l,this.eFetchCategoriesList=this.action$.ofType("[Analyse] FETCH_IMAGE_LIST").withLatestFrom(this.store,function(e,t){return{state:t,action:e}}).mergeMap(function(e){return s.Observable.concat(s.Observable.of({type:r.AppActions.SET_VIEW_LOADING,payload:!0}),o._apiSvc.get("receipts",!0).switchMap(function(e){return s.Observable.concat(s.Observable.of({type:c.AnalyseViewActions.IMAGE_LIST_FETCHED,payload:e}))}).catch(function(e){return o._alertService.error(""==e.message?"Error":e.message,!0),a.error(e)}),s.Observable.of({type:r.AppActions.SET_VIEW_LOADING,payload:!1}))}),this.eImageAnalyse=this.action$.ofType("[Analyse] ANALYSE_IMAGE").withLatestFrom(this.store,function(e,t){return{state:t,action:e}}).mergeMap(function(e){var t={image:e.action.payload};return s.Observable.concat(s.Observable.of({type:r.AppActions.SET_VIEW_LOADING,payload:!0}),o._apiSvc.post("analyze",JSON.stringify(t),!0).switchMap(function(e){return s.Observable.concat(s.Observable.of({type:c.AnalyseViewActions.IMAGE_ANALYSED,payload:e}))}).catch(function(e){return o._alertService.error(""==e.message?"Error":e.message,!0),a.error(e)}),s.Observable.of({type:r.AppActions.SET_VIEW_LOADING,payload:!1}))})}return l([i.Effect(),o("design:type",Object)],e.prototype,"eFetchCategoriesList",void 0),l([i.Effect(),o("design:type",Object)],e.prototype,"eImageAnalyse",void 0),e}());t.AnalyseViewEffects=u},"mjl/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImagelist=function(e){return e.analyseView.imageList}},yUv3:function(e,t,n){"use strict";t.styles=[".categories-list-view[_ngcontent-%COMP%]{width:86.5%;background:#f8f9fa;height:calc(100% - 72px);right:.8%;top:89px;border:1px solid rgba(0,0,0,.07);-webkit-box-shadow:0 0 5px rgba(0,0,0,.16);box-shadow:0 0 5px rgba(0,0,0,.16);display:inline-block;position:absolute}.categories-list-view[_ngcontent-%COMP%]   .categories-header[_ngcontent-%COMP%]{height:60px;background:#00c18b;-webkit-box-shadow:0 0 5px rgba(0,0,0,.16);box-shadow:0 0 5px rgba(0,0,0,.16);width:100.4%;position:relative}.categories-list-view[_ngcontent-%COMP%]   .categories-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;color:#fff;font-size:24px;text-align:center;display:inline-block;position:absolute;left:23px;top:12px}.categories-list-view[_ngcontent-%COMP%]   .categories-header[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:13px;cursor:pointer}.categories-list-view[_ngcontent-%COMP%]   .categories-header[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}.categories-list-view[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]{height:calc(100% - 60px);overflow-y:scroll}.categories-list-view[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;padding:14px;border-bottom:1px solid rgba(0,0,0,.16);cursor:pointer}.categories-list-view[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{color:#999;font-size:18px;font-weight:500;margin-left:10px}.categories-list-view[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}.categories-list-view[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;padding:5px 15px;background:#01c18b;color:#fff;font-size:15px;border-radius:5px;cursor:pointer}.categories-list-view[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .caret[_ngcontent-%COMP%]{float:right}.categories-list-view[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .caret[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:17px}.categories-list-view[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{-webkit-box-shadow:0 0 10px rgba(0,0,0,.16);box-shadow:0 0 10px rgba(0,0,0,.16)}.categories-list-view[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .sub-category-view[_ngcontent-%COMP%]{height:300px;margin-top:30px}.categories-list-view[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{-webkit-box-shadow:0 0 10px #01c18b;box-shadow:0 0 10px #01c18b}.squeeze-view[_ngcontent-%COMP%]{width:20.5%;right:0;left:12.6%}"]}});